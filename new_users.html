<!--
    Project    : Bus Reservation System
    Started on : 07 January 2020
    Updated on : 21 January 2020
    Mentor     : Thenarasi Rajendran
    Developer  : Vaishnavi Bandlamudi
    This  is a adding the users page. It consists of validations for the required fields.
     -> we can add users
     -> After adding user, it is redirected to registration page.
-->  
<html>
    <head>
        <title>New User</title>
    </head>
    <style>
        body{
            background-image:url('https://cdn.pixabay.com/photo/2017/08/12/10/13/background-2633962_960_720.jpg');
            background-size: cover;
        }
        h1{
            color: navy;
            padding-left: 500px;
        }
        #outerBox
            {
                border-style: solid;
                background-color:plum;
                border-color: purple;
                border-radius:30px;
                padding-left: 100px;
                padding-top:50px;
                height:280px;
                width:430px;
                margin-left:400px;
                margin-top:150px;
            }
            #innerBox{
                font-size: 22px;
                color: purple;
                
            }
    </style>
    <script>
        function add()
        {
            var nameValid=0,mailValid=0,passwordValid=0,emptyFields=0,halfFilled=0;
            var name=document.getElementById('name').value;
            var mail=document.getElementById('mail').value;
            var pass1=document.getElementById('password1').value;
            var pass2=document.getElementById('password2').value;
            /*
                 Regular Expression to match name
            */
            var fname=/^[A-Z a-z]{8,20}$/;
             /*
                 Regular Expression to match Password
            */
            var password=/^[A-Z a-z 0-9]{8,30}$/;
             /*
                 Regular Expression to match Email
            */
            var email=/^([A-Z a-z 0-9]+)@([a-z A-Z 0-9]+).([a-z]{2,4})$/;
             /*
                 All fields are empty
            */
            if(name=="" && mail=="" && pass1=="" && pass2=="")
            {
                alert("Kindly fill all fields");
                emptyFields=1;
                
            }
             /*
                 All  few fields are empty
            */
            else if(name=="" || mail=="" || pass1=="" || pass2=="")
            {
                alert("Kindly fill remaining fields");
                halfFilled=1;
                
            }
            else if(true)
            {
                /*
                  checking the name whether it matches the Regular Expression
                */
                if(!fname.test(name))

               {     
     
                 document.getElementById("Name1").style.visibility="visible";
                 nameValid=1; 

                 }
                 else 

                 {
                        document.getElementById("Name1").style.visibility="hidden";
                        nameValid=0;

                 }
              /*
                  checking the Password whether it matches the Regular Expression
                */
              if(pass1!=pass2 || !password.test(pass1))

              {

                  document.getElementById("Password1").style.visibility="visible";
                  passwordValid=1;

               }
              else 

             {
                      document.getElementById("Password1").style.visibility="hidden";
                      passwordValid=0;

              }
             /*
                  checking the Email whether it matches the Regular Expression
                */
             if(!email.test(mail))

             {
 
                  document.getElementById("Email1").style.visibility="visible";
                  mailValid=1;

             }
              else 

            {

                 document.getElementById("Email1").style.visibility="hidden";
                 mailValid=0;
             }
            }
            /*
                 All the validation and required fields are filled so it is redirected to Registration Page
            */
               if(nameValid==0 && passwordValid==0 && mailValid==0 && emptyFields==0 && halfFilled==0)
               {
                   alert("You are added successfully");
                   location.replace("registration.html");
               }

            }
           
        
    </script>
    <body>
        <marquee direction="up"><h1>Here Add The Details</h1></marquee>>
        <div id="outerBox">
          <div id="innerBox">
            <!--
              Enter the name with minimum 8 Characters to 30 Characters.    
            -->
            <label>Name</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" placeholder="Enter 8-20 characters" id="name" required>
            <!--
             It displays if it is invalid
            -->
            <label id="Name1" style="color: red;visibility: hidden;">Invalid</label>
            <br><br>
            <!--
                Enter the password with mininum 8 characters
            -->
            <label>Password</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" id="password1" placeholder="Enter 8-30 characters" required>
            
            <br><br>
             <!--
                Enter the password with mininum 8 characters 
            -->
            <label>Confirm password</label>&nbsp&nbsp<input type="password" id="password2" placeholder="Re-Enter password" required>
            <!--
             It displays if it is invalid
            -->
            <label id="Password1" style="color: red;visibility: hidden;">Invalid</label>
            
            <br><br>
            <!--
                Enter the email with required validation
            -->
            <label>Email Address</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="text" id="mail" placeholder="abc@gmail.com" required>
            <!--
             It displays if it is invalid
            -->
            <label id="Email1" style="color: red;visibility: hidden;">Invalid</label>

            <br><br>
            <!--
             On clicking the button the function add() with start working which is written in script tag.
            -->
            <input type="submit" value="Add User" onclick="add()">
        </div>
        </div>
    </body>
</html>
